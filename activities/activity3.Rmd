---
title: "Activity 3 - Napoleon's March"
author: "Kiana Fields"
date: "Math 241, Week 2"
output:
  pdf_document
urlcolor: blue
---

```{r setup, include=FALSE}
# Do not modify this chunk.
knitr::opts_chunk$set(echo = TRUE, warning = FALSE, message = FALSE)


```

```{r, include=FALSE}
libs <- c('tidyverse','dplyr','ggplot2','ggmap','knitr','viridis','mdsr')
for(l in libs){
if(!require(l,character.only = TRUE, quietly = TRUE)){
message( sprintf('Did not have the required package << %s >> installed. Downloading now ... ',l))
install.packages(l)
}
library(l, character.only = TRUE, quietly = TRUE)
}
```

Problem 1: US counties

```{r}
library(openintro)
data(county)

ggplot(county) +
geom_point(aes(x = median_edu, y = median_hh_income)) +
geom_boxplot(aes(x = smoking_ban, y = pop2017))
```


a) This code creates a visualization depicting the relationship between education level and household income. It works but it isn't particularly pretty or helpful to understand this relationship.



```{r}
ggplot(county %>% filter(!is.na(median_edu))) +
geom_point(aes(x = homeownership, y = poverty)) +
facet_grid(median_edu ~ .)
```

```{r}
ggplot(county %>% filter(!is.na(median_edu))) +
geom_point(aes(x = homeownership, y = poverty)) +
facet_grid(. ~ median_edu)
```

b) The second plot with faceted columns makes it easier to compare poverty levels because it keeps them on the same scale which is important to keep in mind when placing a faceting variable.

c) Recreating the Poverty and homeownership by education level graph
```{r}
ggplot(county %>% filter(!is.na(median_edu))) +
geom_point(aes(x = homeownership, y = poverty, color = metro)) +
facet_grid(factor(median_edu, levels=c('bachelors','below_hs','hs_diploma','some_college')) ~ .) +
  labs(x="Homeownership", y="Poverty", color="Metro", title = "Poverty and homewnership by education level") +
  scale_color_manual(breaks = c("no", "yes"), 
                    values=c("#024F7E", "#6ECC75"))

```

Problem 2: Napoleonâ€™s March

```{r}
library(tidyverse)
library(lubridate)
library(ggmap)
library(ggrepel)
library(gridExtra)
library(pander)
cities <- read.table("../data/minard/cities.txt",
header = TRUE, stringsAsFactors = FALSE)
troops <- read.table("../data/minard/troops.txt",
header = TRUE, stringsAsFactors = FALSE)
temps <- read.table("../data/minard/temps.txt",
header = TRUE, stringsAsFactors = FALSE) %>%
mutate(date = dmy(date)) # Convert string to actual date
```

